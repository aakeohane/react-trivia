(this["webpackJsonpreact-trivia"]=this["webpackJsonpreact-trivia"]||[]).push([[0],{21:function(e,t,s){"use strict";s.r(t);s(8);var c=s(1),i=s(6),n=s.p+"static/media/quiz.d136d274.png",a=s(0);function r(e){const[t,s,c]=[e.options,e.onStart,e.isVisible];let i="";switch(t[1]){case"9":i="general knowledge";break;case"17":i="science & nature";break;case"18":i="computers";break;case"19":i="mathematics";break;case"20":i="mythology";break;case"21":i="sports";break;case"22":i="geography";break;case"23":i="history";break;case"24":i="politics";break;case"25":i="art";break;case"26":i="celebrities";break;case"27":i="animals";break;case"28":i="vehicles";break;case"31":i="Japanese anime & manga"}return Object(a.jsxs)("div",{className:"flex-wrapper",children:[Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)("img",{src:n,alt:"quizzical logo",className:"quizzical-logo"}),Object(a.jsx)("h1",{children:"Quizzical"}),Object(a.jsxs)("p",{children:[" Test your knowledge! When you start the quiz, you will have to answer ",t[2]?t[2]:5,t[1]?" ".concat(i," questions"):" random questions",". Modify quiz preferences in ",Object(a.jsx)("span",{className:"modify-settings",onClick:()=>{c(!0)},children:"settings"}),". Good luck!"]}),Object(a.jsx)("button",{className:"quizzical-button",onClick:s,children:" Start quiz!"})]}),Object(a.jsx)("div",{className:"footer",children:Object(a.jsxs)("footer",{children:[" Meticulously made by ",Object(a.jsx)("a",{href:"https://github.com/aakeohane/react-trivia",rel:"noreferrer",target:"_blank",children:"Aaron"})]})})]})}var o=e=>{const[t,s,c,i,n,r,o,l]=[e.isSelected,e.answered,e.isCorrect,e.fixedAnswers,e.index,e.id,e.choices,e.setChoices];return Object(a.jsx)("button",{className:"answers-btn \n          ".concat(t&&"blue","\n          ").concat(s&&"faded","\n          ").concat(t&&s&&"green","\n          ").concat(s&&c&&"green"," \n          ").concat(t&&s&&!c&&"red","\n          "),onClick:()=>(()=>{const e=[...o];e.splice(n,1,i),l(e)})(),disabled:!!s,children:i},r)},l=s(5),b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAABVRJREFUeF7tnE+IHEUUxr/XMwYC/gMTop48CMY1s+tk8GIOiwdRJAQvC8oehY07G8xZTzkZ8Zrd3mxAAnrci0b2YE45eZGd3p2RREEU/A9ezBrwsDP9pCe7SBJ2uqvrVVdXd821q75X9f2muru6P5rgf1YdIKvVfXF4AJb/BB6AB2DZAcvl/QrwACw7YLm8XwEewP8OtNvnnuYRzwfMs0yYBvAEAAbwC4CfiHljSM0v+v1Lv1r2Tax8KVbAS1PdJ4dN/higtwA8lDK7IQFXuRFciKLl38WcsCRkHUB7evEMQJ8CeEzFAwL+ATDf64dfqvQrW1urAE62FheYaBVAkNOYmBjne4NwOWd/692sATg5s3SamT8H0NB0ISbgTVdXghUAnc7CkXi3eQvAEU3z73Zn7ASHhsc3N6/8IaJXoIgVAO1W9zIIZyXnyURXtrZXRDUlx3eQVuEA9v79PwM4LDzBYUzxM9vbl38T1jUqlwnAzMzSCwHzRTBmQXjU6Ig0xBlY2uqHYZqE0fkwdkB0A43h+1G0djNtLKkAOq1zrZjirwE8nCZm+zgxNnqD8PSkcRQ4nzsBBy9vDpYHk8aTCqA9070Oxqu2zc1Y/7uoHz4/qW2R8yHG9d4gfC03gLm5ucYP3x/9N8PuNKM/xpvdifrhIwdVsTCf3Wef++vw+vr6KNdF2MKA9QgxdqJBeOCO2sJ89AAkbhS5ZPXcH/e+FfXDqbKcggD+Kuqvvp77FJR0LPCipe1/mS7CybMq4uCU9kV4vAraZ6cwanwIYBbA49pOGROgbtRfSZ4tTfwZns/fRLiBET7ofRsmu/2Jv9S7oDQB1eN+I3avY4UDGK+o6cUQoEVVeBPbM9aiQfiuqGYBYlYA7K2CZJd4VGiOt5tDHP/mZvinkF5hMlYAJLN7sbX0BhFfk3gczQGf2dpa3SjMNcFC1gDcPRV13wGwpgEhJub3eoPVFUFPCpWyCiCZ6d6Lmc9y3F3d5oDnXf3n71O2DiAZyIkT548daux+xIz5DI89hmB80hzhgovn/PuXVykA7A+q01l4Kh423mbGKwRq7V2k4ySWQowfmWgjptE11575TzqnlQpAoSffkhTzACyD8AA8AMsOWC5f6RXgQta0kgBcyppWDoBrWdNKAXAxa1oZAK5mTSsBwOWsaSUAuJw1dR6A6684MwEwmqW0vBGaVD5X1jQRrGs2VJqlZsylltlQaQZaWdM6ZkOlAehmTfWiiRaylNIG6unpZ031AIxfnLsVT9cz/MHemlnTmmVDpd3XuQjXNBsqjiBP1hSlzoZKW1SLjZi0adJ6LmdNM+2EpQ2T1nM5a1oJAAlQV7OmlQEwvmV2MGtaKQAuZk0rB8C1rGklAbiUNa00AOm7LRN6HoAJVxU0PQAFs0w09QBMuKqgaRSAC9lMBa+MNDUCwKVsphFXFUTFAbiWzVTwykhTUQAuZjONuKogKgbA1WymgldGmooAcDmbacRVBVERAC5nMxW8MtJUG4DrrwSNuKogmgmArWxormym7e+aVum7oTqxEIU/oammlciGamUzTTmbVbcK2VDdbGZWr0y104smWs+G6mczTRmbVVcPQFLFcjZUM5uZ1SdT7RzPhrp8Ea5INrQU3wFVXR7FfjfUb8RU+dzbPtNGLK2Ey9nMtLmZPi4CwOVspmmD0/RFACRFXM1mphlk+rgYgPEtq4PZTNMGp+mLAkiK1f07oGmG339cHEBSoM7fAS0FgP1B1PE7oKUCoDqYOrY3cgqqo5F55+wB5HVOqJ8HIGRkXhkPIK9zQv08ACEj88p4AHmdE+rnAQgZmVfmP7haXY7GXmxjAAAAAElFTkSuQmCC",u=s(4);function d(e){const[t,s,i,n,r]=[e.addCustomCategories,e.options,e.quiz,e.visible,e.isVisible],[o,l]=Object(c.useState)({difficulty:s[0]||"",category:s[1]||"",number:s[2]||"5"}),[d,j]=Object(c.useState)({}),m=e=>{l({...o,[e.target.id]:e.target.value}),((e,t)=>{if("number"===e)if(t<5||t>10)j({...d,number:"Value must be between 5 and 10"});else{let e=Object(u.omit)(d,"number");j(e)}})(e.target.id,e.target.value)};return Object(a.jsxs)("div",{className:"preference-container",children:[Object(a.jsxs)("div",{className:n?"customize-container visible":"customize-container",children:[Object(a.jsx)("div",{className:"bar1"}),Object(a.jsx)("div",{className:"bar2"}),Object(a.jsx)("div",{className:"bar3"})]}),Object(a.jsx)("img",{src:b,alt:"customize icon",className:n?"custom-quizzical visible":"custom-quizzical",onClick:()=>(()=>{r((e=>!e));let e=Number(o.number);if(!e||e<5||e>10){l((e=>({...e,number:s[2]||"5"})));let e=Object(u.omit)(d,"number");j(e)}})()}),i?Object(a.jsxs)("div",{className:n?"quiz-menu on-screen":"quiz-menu",children:[Object(a.jsx)("div",{className:"yellow-blob-settings"}),Object(a.jsx)("div",{className:"blue-blob-settings"}),Object(a.jsx)("h1",{className:"quiz-menu-header",children:"Settings"}),Object(a.jsx)("div",{className:"settings-text-container",children:Object(a.jsx)("p",{className:"settings-text",children:"A bit too difficult? Reset quiz and go back to the homescreen to try again."})}),Object(a.jsx)("button",{className:"reset-button",type:"submit",onClick:()=>{e.resetGame(),r(!1)},children:"Reset"})]}):Object(a.jsxs)("form",{className:n?"quiz-menu on-screen":"quiz-menu",children:[Object(a.jsx)("h1",{className:"quiz-menu-header",children:"Settings"}),Object(a.jsx)("div",{className:"yellow-blob-settings"}),Object(a.jsx)("div",{className:"blue-blob-settings"}),Object(a.jsx)("label",{htmlFor:"difficulty",children:"Select Difficulty:"}),Object(a.jsxs)("select",{id:"difficulty",className:"input-box",value:o.difficulty,onChange:m,children:[Object(a.jsx)("option",{value:"",children:"Any Difficulty"}),Object(a.jsx)("option",{value:"easy",children:"Easy"}),Object(a.jsx)("option",{value:"medium",children:"Medium"}),Object(a.jsx)("option",{value:"hard",children:"Hard"})]}),Object(a.jsx)("label",{htmlFor:"category",children:"Select Category:"}),Object(a.jsxs)("select",{id:"category",className:"input-box",value:o.category,onChange:m,children:[Object(a.jsx)("option",{value:"",children:"Any Category"}),Object(a.jsx)("option",{value:"9",children:"General Knowledge"}),Object(a.jsx)("option",{value:"17",children:"Science & Nature"}),Object(a.jsx)("option",{value:"18",children:"Computers"}),Object(a.jsx)("option",{value:"19",children:"Mathematics"}),Object(a.jsx)("option",{value:"20",children:"Mythology"}),Object(a.jsx)("option",{value:"21",children:"Sports"}),Object(a.jsx)("option",{value:"22",children:"Geography"}),Object(a.jsx)("option",{value:"23",children:"History"}),Object(a.jsx)("option",{value:"24",children:"Politics"}),Object(a.jsx)("option",{value:"25",children:"Art"}),Object(a.jsx)("option",{value:"26",children:"Celebrities"}),Object(a.jsx)("option",{value:"27",children:"Animals"}),Object(a.jsx)("option",{value:"28",children:"Vehicles"}),Object(a.jsx)("option",{value:"31",children:"Japanese Anime & Manga"})]}),Object(a.jsx)("label",{htmlFor:"number",children:"Number of Questions:"}),Object(a.jsx)("input",{type:"number",id:"number",className:d.number?"input-box active":"input-box",value:o.number,onChange:m,min:"5",max:"10"}),d.number&&Object(a.jsx)("div",{className:"error-message",children:d.number}),Object(a.jsx)("button",{className:"submit-button",type:"submit",onClick:e=>{e.preventDefault();let s=Number(o.number);!s||s<5||s>10||(r((e=>!e)),t(o))},children:"Submit"})]})]})}var j=s(7),m=s.n(j);var h=function(){const[e,t]=Object(c.useState)(!1),[s,i]=Object(c.useState)([]),[n,b]=Object(c.useState)(!1),[u,j]=Object(c.useState)([]),[h,O]=Object(c.useState)(!1),[x,g]=Object(c.useState)(0),[A,p]=Object(c.useState)([]),[f,v]=Object(c.useState)(["","","","",""]),[N,y]=Object(c.useState)(!1),[w,C]=Object(c.useState)([]),[z,q]=Object(c.useState)({difficulty:"",category:"",number:"5"}),[k,S]=Object(c.useState)(!1),V=()=>{t(!0);const e=Object.values(z),s="".concat(e[2]),c="&category=".concat(e[1]),i="&difficulty=".concat(e[0]);let n=new Array(Number(e[2])).fill("");v(n);const a=[s,c,i].join(""),r="https://opentdb.com/api.php?amount=".concat(a);fetch(r).then((e=>e.json())).then((e=>{j(e.results),console.log("fetched")})).catch((e=>console.error(e))).finally((()=>{t((e=>!e))}))};Object(c.useEffect)((()=>{t(!0),V()}),[z]),Object(c.useEffect)((()=>{const e=[];if(Object.values(w).forEach((t=>{const[s,c,i]=[t.difficulty,t.category,t.number];e.push(s,c,i)})),0!==w.length){q(e);let t=new Array(Number(e[2])).fill("");v(t)}}),[w]),Object(c.useEffect)((()=>{const e=[],t=[];null===u||void 0===u||u.map(((s,c)=>{const i=(new DOMParser).parseFromString(s.correct_answer,"text/html").body.firstChild.textContent;t.push(i),p(t);const n=s.incorrect_answers.map((e=>({name:e,isCorrect:!1,id:Object(l.a)(),index:c}))),a={name:s.correct_answer,isCorrect:!0,id:Object(l.a)(),index:c};n.push(a),M(n);const r={question:s.question,answers:n};return e.push(r)})),i(e),console.log(e)}),[u]);const M=e=>{for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}},B=s.map((e=>{const t=(new DOMParser).parseFromString(e.question,"text/html").body.firstChild.textContent,s=e.answers.map((e=>{const t=(new DOMParser).parseFromString(e.name,"text/html").body.firstChild.textContent;return Object(a.jsx)(o,{fixedAnswers:t,id:e.id,index:e.index,isCorrect:e.isCorrect,answered:N,choices:f,setChoices:v,isSelected:f[e.index]===t},e.id)}));return Object(a.jsxs)("div",{className:"question-group",children:[Object(a.jsx)("p",{className:"question",children:t}),Object(a.jsx)("div",{className:"button-container",children:s})]})})),R=()=>{b(!1),y(!1),V(),O(!1)};return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("div",{className:"landing-container",children:[Object(a.jsx)(d,{addCustomCategories:e=>{C((t=>({...t,customization:e})))},options:z,quiz:n,visible:k,isVisible:S,resetGame:R}),Object(a.jsx)("div",{className:"yellow-blob"}),Object(a.jsx)("div",{className:"blue-blob"}),!n&&Object(a.jsx)(r,{options:z,onStart:()=>(b(!0),void S(!1)),isVisible:S}),e&&n?Object(a.jsx)(m.a,{color:"#ccccff",size:25}):Object(a.jsxs)("div",{className:"quiz-container",children:[n&&B,n&&0===s.length&&Object(a.jsx)("p",{className:"fetch-error",children:"Oops, something went wrong! Try resetting the quiz after a few seconds."}),h&&Object(a.jsx)("p",{className:"message",children:"You must answer all questions!"}),n&&!N&&!(0===s.length)&&Object(a.jsx)("button",{className:"quizzical-button",onClick:()=>((e,t)=>{g(0);for(let s=0;s<e.length;s++)e[s]===t[s]&&g((e=>e+1));t.includes("")?O(!0):(y(!0),O(!1))})(A,f),children:"Check answers"}),N&&Object(a.jsxs)("div",{className:"play-again-container",children:[Object(a.jsxs)("p",{children:["You scored ",x,"/",f.length," correct answers"]}),Object(a.jsx)("button",{className:"quizzical-button",onClick:()=>R(),children:"Play again"})]})]})]})})};const O=document.getElementById("root");Object(i.createRoot)(O).render(Object(a.jsx)(c.StrictMode,{children:Object(a.jsx)(h,{})}))},8:function(e,t,s){}},[[21,1,2]]]);
//# sourceMappingURL=main.030880f2.chunk.js.map